<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart Core — Architecture</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=SF+Pro+Display:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <style>
        :root {
            --bg-primary: #000000;
            --bg-secondary: #0d0d0d;
            --surface: rgba(255, 255, 255, 0.03);
            --surface-hover: rgba(255, 255, 255, 0.06);
            --border: rgba(255, 255, 255, 0.08);
            --border-strong: rgba(255, 255, 255, 0.15);
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.6);
            --text-tertiary: rgba(255, 255, 255, 0.4);
            --accent-blue: #007AFF;
            --accent-purple: #AF52DE;
            --accent-pink: #FF2D55;
            --accent-green: #34C759;
            --accent-orange: #FF9500;
            --accent-cyan: #5AC8FA;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.47059;
            font-weight: 400;
            letter-spacing: -0.022em;
            overflow-x: hidden;
        }

        .font-display {
            font-family: 'SF Pro Display', 'Inter', sans-serif;
            letter-spacing: -0.021em;
        }

        .noise {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            opacity: 0.03;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        .surface {
            background: var(--surface);
            backdrop-filter: blur(40px) saturate(180%);
            -webkit-backdrop-filter: blur(40px) saturate(180%);
            border: 1px solid var(--border);
            transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .surface:hover {
            background: var(--surface-hover);
            border-color: var(--border-strong);
        }

        .hero-title {
            font-size: clamp(48px, 8vw, 96px);
            font-weight: 600;
            line-height: 1.05;
            letter-spacing: -0.015em;
        }

        .section-title {
            font-size: clamp(32px, 5vw, 56px);
            font-weight: 600;
            line-height: 1.1;
            letter-spacing: -0.021em;
        }

        .subsection-title {
            font-size: clamp(24px, 4vw, 40px);
            font-weight: 600;
            line-height: 1.2;
            letter-spacing: -0.021em;
        }

        .card-title {
            font-size: 21px;
            font-weight: 600;
            letter-spacing: -0.021em;
        }

        .body-large {
            font-size: 21px;
            line-height: 1.381;
            font-weight: 400;
            letter-spacing: -0.021em;
            color: var(--text-secondary);
        }

        .body-small {
            font-size: 14px;
            line-height: 1.6;
            font-weight: 400;
            letter-spacing: -0.016em;
            color: var(--text-tertiary);
        }

        .label {
            font-size: 12px;
            line-height: 1.33337;
            font-weight: 600;
            letter-spacing: -0.01em;
            text-transform: uppercase;
            color: var(--text-tertiary);
        }

        .section-spacing {
            padding: 160px 0;
        }

        .content-spacing {
            padding: 0 40px;
        }

        @media (max-width: 768px) {
            .content-spacing {
                padding: 0 24px;
            }
            .section-spacing {
                padding: 100px 0;
            }
        }

        .bento-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 24px;
            max-width: 1200px;
            margin: 0 auto;
        }

        @media (max-width: 1024px) {
            .bento-grid {
                grid-template-columns: repeat(6, 1fr);
                gap: 16px;
            }
        }

        @media (max-width: 640px) {
            .bento-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }
        }

        .bento-card {
            border-radius: 24px;
            padding: 40px;
            position: relative;
            overflow: hidden;
        }

        @media (max-width: 768px) {
            .bento-card {
                padding: 24px;
                border-radius: 20px;
            }
        }

        .card-full {
            grid-column: span 12;
        }

        .card-half {
            grid-column: span 6;
        }

        .card-third {
            grid-column: span 4;
        }

        @media (max-width: 1024px) {
            .card-half, .card-third {
                grid-column: span 6;
            }
        }

        @media (max-width: 640px) {
            .card-half, .card-third {
                grid-column: span 1;
            }
        }

        .gradient-mesh {
            position: absolute;
            inset: 0;
            opacity: 0.4;
            filter: blur(80px);
            pointer-events: none;
        }

        .gradient-blue {
            background: radial-gradient(circle at 30% 30%, rgba(0, 122, 255, 0.3), transparent 60%);
        }

        .gradient-purple {
            background: radial-gradient(circle at 70% 30%, rgba(175, 82, 222, 0.3), transparent 60%);
        }

        .gradient-pink {
            background: radial-gradient(circle at 50% 70%, rgba(255, 45, 85, 0.25), transparent 60%);
        }

        .gradient-cyan {
            background: radial-gradient(circle at 50% 50%, rgba(90, 200, 250, 0.2), transparent 70%);
        }

        .reveal {
            opacity: 0;
            transform: translateY(40px);
        }

        .timeline-item {
            position: relative;
            padding-left: 32px;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -4px;
            top: 8px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--accent-blue);
            box-shadow: 0 0 0 4px rgba(0, 122, 255, 0.2);
        }

        .timeline-item.active::before {
            background: var(--accent-green);
            box-shadow: 0 0 0 4px rgba(52, 199, 89, 0.2);
        }

        .feature-list li {
            position: relative;
            padding-left: 24px;
            margin-bottom: 12px;
            color: var(--text-secondary);
        }

        .feature-list li::before {
            content: '';
            position: absolute;
            left: 0;
            top: 10px;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--accent-blue);
        }

        .toggle {
            appearance: none;
            width: 44px;
            height: 24px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .toggle::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .toggle:checked {
            background: var(--accent-green);
        }

        .toggle:checked::after {
            transform: translateX(20px);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }

        .status-active {
            background: var(--accent-green);
            box-shadow: 0 0 8px var(--accent-green);
        }

        .status-inactive {
            background: rgba(255, 255, 255, 0.3);
        }

        .connections-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .connection-path {
            fill: none;
            stroke: rgba(255, 255, 255, 0.1);
            stroke-width: 2;
            stroke-linecap: round;
            transition: all 0.3s ease;
        }

        .connection-path.active {
            stroke: rgba(255, 255, 255, 0.5);
            stroke-width: 3;
            filter: drop-shadow(0 0 6px rgba(255,255,255,0.4));
        }

        .nav-link {
            position: relative;
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }

        .nav-link:hover {
            color: var(--text-primary);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 1px;
            background: currentColor;
            transition: width 0.3s ease;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-strong);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Architecture Diagram Specific Styles */
        .arch-node {
            position: absolute;
            z-index: 20;
            transition: transform 0.3s ease;
        }

        .arch-node:hover {
            transform: scale(1.05);
        }

        .arch-card {
            background: rgba(20, 20, 25, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .arch-card:hover {
            border-color: rgba(255, 255, 255, 0.2);
            box-shadow: 0 30px 60px -12px rgba(0, 0, 0, 0.6);
        }

        .pulse-ring {
            position: absolute;
            inset: -4px;
            border-radius: 50%;
            border: 2px solid rgba(0, 122, 255, 0.3);
            animation: pulse-ring 3s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
            pointer-events: none;
        }

        @keyframes pulse-ring {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(1.2); opacity: 0; }
        }

        .glow-effect {
            position: absolute;
            inset: 0;
            border-radius: 24px;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .arch-card:hover .glow-effect {
            opacity: 1;
        }

        .cart-type-card {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .cart-type-card:hover {
            transform: translateY(-4px);
            border-color: currentColor;
        }

        .cart-type-card.active {
            border-color: currentColor;
            box-shadow: 0 0 30px currentColor;
        }

        /* FAQ Specific Styles */
        .faq-item {
            border-bottom: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .faq-item:hover {
            border-color: var(--border-strong);
        }

        .faq-question {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 24px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .faq-question:hover {
            color: var(--text-primary);
        }

        .faq-question.active {
            color: var(--text-primary);
        }

        .faq-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            color: var(--accent-cyan);
        }

        .faq-icon.active {
            transform: rotate(45deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.3s ease, padding 0.3s ease;
            opacity: 0;
        }

        .faq-answer.active {
            max-height: 500px;
            opacity: 1;
            padding-bottom: 24px;
        }

        .faq-answer p {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .faq-tag {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.02em;
            margin-right: 8px;
            margin-bottom: 8px;
        }

        .faq-tag-blue {
            background: rgba(0, 122, 255, 0.1);
            color: var(--accent-blue);
            border: 1px solid rgba(0, 122, 255, 0.2);
        }

        .faq-tag-purple {
            background: rgba(175, 82, 222, 0.1);
            color: var(--accent-purple);
            border: 1px solid rgba(175, 82, 222, 0.2);
        }

        .faq-tag-pink {
            background: rgba(255, 45, 85, 0.1);
            color: var(--accent-pink);
            border: 1px solid rgba(255, 45, 85, 0.2);
        }

        .faq-tag-green {
            background: rgba(52, 199, 89, 0.1);
            color: var(--accent-green);
            border: 1px solid rgba(52, 199, 89, 0.2);
        }

        .faq-tag-orange {
            background: rgba(255, 149, 0, 0.1);
            color: var(--accent-orange);
            border: 1px solid rgba(255, 149, 0, 0.2);
        }

        .faq-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        @media (max-width: 768px) {
            .faq-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="noise"></div>

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 surface border-b-0" style="background: rgba(0,0,0,0.7);">
        <div class="content-spacing max-w-7xl mx-auto h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center">
                    <i data-lucide="shopping-cart" class="w-4 h-4 text-white"></i>
                </div>
                <span class="font-display font-semibold text-sm tracking-tight">Cart Core</span>
            </div>
            <div class="hidden md:flex items-center gap-8 text-sm">
                <a href="#wishlist" class="nav-link">¿Qué es Wishlist Core?</a>
                <a href="#evolution" class="nav-link">¿Qué es Cart Core a lo largo del tiempo?</a>
                <a href="#2026" class="nav-link">¿Qué es Cart Core en 2026?</a>
                <a href="#decisiones" class="nav-link">Decisiones Técnicas</a>
                <a href="#faq" class="nav-link">FAQ</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="relative min-h-screen flex items-center justify-center overflow-hidden pt-16">
        <div class="absolute inset-0 gradient-mesh gradient-blue"></div>
        <div class="absolute inset-0 gradient-mesh gradient-purple" style="opacity: 0.3;"></div>
        
        <div class="content-spacing max-w-5xl mx-auto text-center relative z-10">
            <div class="reveal">
                <h1 class="hero-title font-display mb-8 bg-gradient-to-b from-white to-white/60 bg-clip-text text-transparent">
                    Un usuario.<br>Múltiples carritos.<br>Infinitas posibilidades.
                </h1>
            </div>
        </div>

        <div class="absolute bottom-12 left-1/2 transform -translate-x-1/2 reveal">
            <div class="w-6 h-10 border-2 border-white/20 rounded-full flex justify-center pt-2">
                <div class="w-1 h-2 bg-white/40 rounded-full animate-bounce"></div>
            </div>
        </div>
    </section>

    <!-- Section 1: What is Wishlist Core? -->
    <section id="wishlist" class="section-spacing relative bg-white/[0.02]">
        <div class="content-spacing max-w-6xl mx-auto">
            <div class="reveal mb-16">
                <span class="label mb-4 block text-pink-400">Wishlist Core</span>
                <h2 class="section-title font-display mb-6">¿Qué es Wishlist Core?</h2>
                <p class="body-large max-w-3xl">
                    Es un servicio que permite guardar uno o varios listados de items en los que el usuario ha mostrado interés, de manera que gestiona la persistencia, validación y coherencia entre las diferentes listas e ítems.
                </p>
            </div>

            <div class="bento-grid">
                <!-- Main Description -->
                <div class="bento-card card-full surface reveal">
                    <div class="gradient-mesh gradient-pink opacity-20"></div>
                    <div class="relative z-10">
                        <h3 class="card-title mb-6">Operaciones y Capacidades</h3>
                        <p class="body-small mb-8 max-w-3xl">
                            El servicio de WishList Core permite además operaciones sobre las propias listas y los ítems que la componen:
                        </p>
                        
                        <div class="grid md:grid-cols-2 gap-8">
                            <ul class="feature-list space-y-4">
                                <li class="body-small" style="color: var(--text-secondary);">
                                    Agregar ítems desde distintos puntos del área de venta <span class="text-white/40">(Parrillas, PDP, Carrito, Buscador, recomendador…)</span> soportando distintos tipos de ítems <span class="text-white/40">(MOCACO, SKU, other…)</span>
                                </li>
                                <li class="body-small" style="color: var(--text-secondary);">
                                    Control de visibilidad de las listas, pudiendo hacer públicas o privadas cada una de ellas
                                </li>
                            </ul>
                            <ul class="feature-list space-y-4">
                                <li class="body-small" style="color: var(--text-secondary);">
                                    Integración con Product Reader para validar la disponibilidad de los ítems presentes y añadidos a las listas
                                </li>
                                <li class="body-small" style="color: var(--text-secondary);">
                                    Capacidad para compartir listas.
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 2: Evolution Over Time -->
    <section id="evolution" class="section-spacing relative">
        <div class="content-spacing max-w-5xl mx-auto">
            <div class="reveal mb-20">
                <span class="label mb-4 block text-blue-400">Evolución Histórica</span>
                <h2 class="section-title font-display mb-6">¿Qué es Cart Core a lo largo del tiempo?</h2>
            </div>

            <div class="space-y-12">
                <!-- 2018 -->
                <div class="reveal timeline-item">
                    <div class="flex flex-col md:flex-row md:items-center gap-4 mb-2">
                        <span class="text-2xl font-display font-semibold text-white/20">2018</span>
                        <h3 class="subsection-title text-xl md:text-2xl">El origen</h3>
                    </div>
                    <p class="body-large text-white/80 max-w-2xl">
                        ¿Y si hacemos un producto que se encargue de gestionar de manera centralizada el carrito de la compra de un usuario?
                    </p>
                </div>

                <!-- 2021 -->
                <div class="reveal timeline-item" style="transition-delay: 0.1s;">
                    <div class="flex flex-col md:flex-row md:items-center gap-4 mb-2">
                        <span class="text-2xl font-display font-semibold text-white/20">2021</span>
                        <h3 class="subsection-title text-xl md:text-2xl">Multi-canal</h3>
                    </div>
                    <p class="body-large text-white/80 max-w-2xl">
                        ¿Y si no queremos que el usuario tenga el mismo carrito en su App y en el iPOD de Tienda?
                    </p>
                </div>

                <!-- 2023 -->
                <div class="reveal timeline-item" style="transition-delay: 0.2s;">
                    <div class="flex flex-col md:flex-row md:items-center gap-4 mb-2">
                        <span class="text-2xl font-display font-semibold text-white/20">2023</span>
                        <h3 class="subsection-title text-xl md:text-2xl">Multi-carrito</h3>
                    </div>
                    <p class="body-large text-white/80 max-w-2xl">
                        ¿Y si queremos que un usuario para el mismo canal de venta pueda tener diferentes carritos en base a las diferentes experiencias de compra?
                    </p>
                </div>

                <!-- 2024 -->
                <div class="reveal timeline-item" style="transition-delay: 0.3s;">
                    <div class="flex flex-col md:flex-row md:items-center gap-4 mb-2">
                        <span class="text-2xl font-display font-semibold text-white/20">2024</span>
                        <h3 class="subsection-title text-xl md:text-2xl">Validaciones Contextuales</h3>
                    </div>
                    <div class="space-y-4 max-w-3xl">
                        <p class="body-large text-white/80">
                            ¿Y si durante un streaming no queremos validar el stock al añadir el producto al carrito?
                        </p>
                    </div>
                </div>

                <!-- 2025 -->
                <div class="reveal timeline-item" style="transition-delay: 0.3s;">
                    <div class="flex flex-col md:flex-row md:items-center gap-4 mb-2">
                        <span class="text-2xl font-display font-semibold text-white/20">2025</span>
                        <h3 class="subsection-title text-xl md:text-2xl">Más allá del funnel de compra</h3>
                    </div>
                    <div class="space-y-4 max-w-3xl">
                        <p class="body-large text-white/80">
                            ¿Y si en un proceso de cambios y resposiciones necesitamos crear un carrito? <span class="text-blue-400">REX</span>
                        </p>
                        <p class="body-large text-white/80">
                            ¿Y si no queremos validarlo contra el mismo tipo de conexión de stock?
                        </p>
                    </div>
                </div>

                <!-- 2026 -->
                <div class="reveal timeline-item active" style="transition-delay: 0.4s;">
                    <div class="flex flex-col md:flex-row md:items-center gap-4 mb-2">
                        <span class="text-2xl font-display font-semibold text-white">2026</span>
                        <h3 class="subsection-title text-xl md:text-2xl text-white">Más allá del "clásico carrito"</h3>
                    </div>
                    <p class="body-large text-white max-w-2xl">
                        ¿Y si no sólo gestionamos carritos con una intención de compra? <span class="text-pink-400">Wishlist</span>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3: Cart Core in 2026 -->
    <section id="2026" class="section-spacing relative bg-white/[0.02]">
        <div class="content-spacing max-w-6xl mx-auto">
            <div class="reveal mb-16">
                <span class="label mb-4 block text-cyan-400">Presente y Futuro</span>
                <h2 class="section-title font-display mb-6">¿Qué es Cart Core en 2026?</h2>
                <p class="body-large max-w-3xl">
                    Cart Core es un sistema que permite a un mismo usuario crear y gestionar múltiples listas de elementos, validar su contenido contra sistemas externos, configurar su comportamiento mediante propósito y controlar su estado de mutabilidad, garantizando coherencia, resiliencia, escalabilidad y observabilidad.
                </p>
            </div>

            <!-- Architecture Diagram -->
            <div class="reveal mb-20">
                <div class="relative h-[700px] w-full surface rounded-3xl border border-white/10 overflow-hidden" id="architecture-container">
                    <div class="gradient-mesh gradient-blue opacity-20"></div>
                    <div class="gradient-mesh gradient-purple opacity-20"></div>
                    
                    <svg class="connections-svg" id="architecture-svg">
                        <defs>
                            <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                <polygon points="0 0, 10 3, 0 6" fill="rgba(255,255,255,0.2)"/>
                            </marker>
                        </defs>
                        <g id="connections-group"></g>
                    </svg>

                    <!-- User Node -->
                    <div class="arch-node" style="top: 8%; left: 50%; transform: translateX(-50%);" id="node-user">
                        <div class="relative">
                            <div class="pulse-ring"></div>
                            <div class="arch-card w-36 h-36 rounded-full flex flex-col items-center justify-center text-center border border-white/20">
                                <div class="glow-effect bg-blue-500/20 blur-xl rounded-full"></div>
                                <i data-lucide="user" class="w-8 h-8 text-white/80 mb-2 relative z-10"></i>
                                <span class="text-sm font-medium relative z-10">Usuario</span>
                                <span class="text-xs text-white/40 mt-1 relative z-10">ID: 8842</span>
                            </div>
                        </div>
                    </div>

                    <!-- Core Service Node -->
                    <div class="arch-node" style="top: 38%; left: 50%; transform: translateX(-50%);" id="node-core">
                        <div class="arch-card w-72 border-blue-500/30 relative">
                            <div class="glow-effect bg-blue-500/10 blur-2xl"></div>
                            <div class="flex flex-col items-center text-center relative z-10">
                                <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg shadow-blue-500/25">
                                    <i data-lucide="cpu" class="w-8 h-8 text-white"></i>
                                </div>
                                <h3 class="text-xl font-semibold mb-1">Cart Core</h3>
                                <p class="text-sm text-white/50">Service Layer</p>
                                <div class="mt-4 flex gap-2">
                                    <span class="px-3 py-1 rounded-full bg-white/5 text-xs border border-white/10">Lógica Core</span>
                                    <span class="px-3 py-1 rounded-full bg-white/5 text-xs border border-white/10">Resiliencia</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Cart Types Nodes -->
                    <div class="arch-node" style="bottom: 12%; left: 15%;" id="node-default">
                        <div class="arch-card cart-type-card w-56 border-blue-500/30 text-blue-400" onclick="highlightCart('default')">
                            <div class="flex flex-col items-center text-center">
                                <div class="w-12 h-12 rounded-xl bg-blue-500/10 flex items-center justify-center mb-3 border border-blue-500/20">
                                    <i data-lucide="shopping-cart" class="w-6 h-6 text-blue-400"></i>
                                </div>
                                <h4 class="font-semibold text-white mb-1">Default</h4>
                                <p class="text-xs text-white/40 mb-3">Funnel estándar</p>
                            </div>
                        </div>
                    </div>

                    <div class="arch-node" style="bottom: 12%; left: 50%; transform: translateX(-50%);" id="node-subcart">
                        <div class="arch-card cart-type-card w-56 border-purple-500/30 text-purple-400" onclick="highlightCart('subcart')">
                            <div class="flex flex-col items-center text-center">
                                <div class="w-12 h-12 rounded-xl bg-purple-500/10 flex items-center justify-center mb-3 border border-purple-500/20">
                                    <i data-lucide="shopping-basket" class="w-6 h-6 text-purple-400"></i>
                                </div>
                                <h4 class="font-semibold text-white mb-1">Subcart</h4>
                                <p class="text-xs text-white/40 mb-3">Cesta seleccionable</p>
                            </div>
                        </div>
                    </div>

                    <div class="arch-node" style="bottom: 12%; right: 15%;" id="node-wishlist">
                        <div class="arch-card cart-type-card w-56 border-pink-500/30 text-pink-400" onclick="highlightCart('wishlist')">
                            <div class="flex flex-col items-center text-center">
                                <div class="w-12 h-12 rounded-xl bg-pink-500/10 flex items-center justify-center mb-3 border border-pink-500/20">
                                    <i data-lucide="heart" class="w-6 h-6 text-pink-400"></i>
                                </div>
                                <h4 class="font-semibold text-white mb-1">Wishlist</h4>
                                <p class="text-xs text-white/40 mb-3">Lista de elementos</p>
                            </div>
                        </div>
                    </div>

                    <!-- Legend -->
                    <div class="absolute bottom-6 left-6 flex gap-4 text-xs text-white/40">
                        <div class="flex items-center gap-2">
                            <div class="w-2 h-2 rounded-full bg-blue-400"></div>
                            <span>Default</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <div class="w-2 h-2 rounded-full bg-purple-400"></div>
                            <span>Subcart</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <div class="w-2 h-2 rounded-full bg-pink-400"></div>
                            <span>Wishlist</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pillars -->
            <h3 class="section-title font-display mb-6">Nuevas capacidades para nuevos retos</h3>
            <div class="grid md:grid-cols-4 gap-6 mb-20 reveal">
                <div class="surface rounded-2xl p-6 text-center border border-white/5 hover:border-white/10 transition-all">
                    <div class="w-12 h-12 rounded-full bg-cyan-500/10 flex items-center justify-center mx-auto mb-4 border border-cyan-500/20">
                        <i data-lucide="share-2" class="w-6 h-6 text-cyan-400"></i>
                    </div>
                    <h4 class="font-medium text-sm mb-1">Compartir</h4>
                    <p class="text-xs text-white/40">Posibilidad de compartir carritos. Se crea el concepto de carrito público o privado.</p>
                </div>
                <div class="surface rounded-2xl p-6 text-center border border-white/5 hover:border-white/10 transition-all">
                    <div class="w-12 h-12 rounded-full bg-green-500/10 flex items-center justify-center mx-auto mb-4 border border-green-500/20">
                        <i data-lucide="timer" class="w-6 h-6 text-green-400"></i>
                    </div>
                    <h4 class="font-medium text-sm mb-1">TTL</h4>
                    <p class="text-xs text-white/40">Tiempo de vida de los carritos configurable por propósito</p>
                </div>
                <div class="surface rounded-2xl p-6 text-center border border-white/5 hover:border-white/10 transition-all">
                    <div class="w-12 h-12 rounded-full bg-purple-500/10 flex items-center justify-center mx-auto mb-4 border border-purple-500/20">
                        <i data-lucide="shield-check" class="w-6 h-6 text-purple-400"></i>
                    </div>
                    <h4 class="font-medium text-sm mb-1">Validaciones</h4>
                    <p class="text-xs text-white/40">Posibilidad de configurar qué validaciones de stock y producto queremos usar por propósito</p>
                </div>
                <div class="surface rounded-2xl p-6 text-center border border-white/5 hover:border-white/10 transition-all">
                    <div class="w-12 h-12 rounded-full bg-purple-500/10 flex items-center justify-center mx-auto mb-4 border border-purple-500/20">
                        <i data-lucide="pencil" class="w-6 h-6 text-purple-400"></i>
                    </div>
                    <h4 class="font-medium text-sm mb-1">Control de mutabilidad</h4>
                    <p class="text-xs text-white/40">Un carrito podrá ser modificable siempre o no dependiendo de su propósito</p>
                </div>
            </div>
            
            <div class="grid md:grid-cols-1 gap-6 mb-20 reveal">
                <div class="surface rounded-2xl p-6 text-center border border-white/5 hover:border-white/10 transition-all max-w-xs mx-auto">
                    <div class="w-12 h-12 rounded-full bg-orange-500/10 flex items-center justify-center mx-auto mb-4 border border-orange-500/20">
                        <i data-lucide="circle-plus" class="w-6 h-6 text-orange-400"></i>
                    </div>
                    <h4 class="font-medium text-sm mb-1">Nuevos tipos de items soportados</h4>
                    <p class="text-xs text-white/40">Se da soporta a líneas de tipo componente comercial</p>
                </div>
            </div>

            <!-- Architecture Detail -->
            <div class="bento-grid">
                <div class="bento-card card-half surface reveal">
                    <div class="gradient-mesh gradient-blue opacity-30"></div>
                    <div class="relative z-10">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center border border-blue-500/20">
                                <i data-lucide="cpu" class="w-5 h-5 text-blue-400"></i>
                            </div>
                            <h3 class="card-title">Arquitectura</h3>
                        </div>
                        <p class="body-small mb-6">
                            Sistema centralizado que gestiona múltiples instancias de carritos con configuraciones independientes.
                        </p>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between py-2 border-t border-white/5">
                                <span class="text-sm text-white/60">Persistencia</span>
                                <span class="text-xs text-blue-400">Multi-lista</span>
                            </div>
                            <div class="flex items-center justify-between py-2 border-t border-white/5">
                                <span class="text-sm text-white/60">Validación</span>
                                <span class="text-xs text-blue-400">Externa</span>
                            </div>
                            <div class="flex items-center justify-between py-2 border-t border-white/5">
                                <span class="text-sm text-white/60">Configuración</span>
                                <span class="text-xs text-blue-400">Por propósito</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bento-card card-half surface reveal" style="transition-delay: 0.1s;">
                    <div class="gradient-mesh gradient-purple opacity-30"></div>
                    <div class="relative z-10">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-10 h-10 rounded-xl bg-purple-500/10 flex items-center justify-center border border-purple-500/20">
                                <i data-lucide="shopping-cart" class="w-5 h-5 text-purple-400"></i>
                            </div>
                            <h3 class="card-title">Tipos de Carrito</h3>
                        </div>
                        <div class="space-y-4">
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 rounded-full bg-blue-400"></div>
                                <div>
                                    <p class="text-sm font-medium">Default</p>
                                    <p class="text-xs text-white/40">Funnel de compra estándar</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 rounded-full bg-purple-400"></div>
                                <div>
                                    <p class="text-sm font-medium">Subcart, BuyNow, ...</p>
                                    <p class="text-xs text-white/40">Experiencias específicas de compra</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 rounded-full bg-pink-400"></div>
                                <div>
                                    <p class="text-sm font-medium">Wishlist</p>
                                    <p class="text-xs text-white/40">Lista de elementos sin necesidad de intención de compra</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 rounded-full bg-cyan-400"></div>
                                <div>
                                    <p class="text-sm font-medium">Replacement</p>
                                    <p class="text-xs text-white/40">Creación de un carrito fuera del funnel de venta</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bento-card card-full surface reveal" style="transition-delay: 0.2s;">
                    <div class="gradient-mesh gradient-cyan opacity-20"></div>
                    <div class="relative z-10">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-10 h-10 rounded-xl bg-cyan-500/10 flex items-center justify-center border border-cyan-500/20">
                                <i data-lucide="toggle-left" class="w-5 h-5 text-cyan-400"></i>
                            </div>
                            <h3 class="card-title">Validaciones Configurables</h3>
                        </div>
                        
                        <div class="grid md:grid-cols-3 gap-8 mt-8">
                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <span class="text-sm font-medium text-blue-400">Default</span>
                                    <span class="text-xs text-white/40">Estricto</span>
                                </div>
                                <div class="space-y-2">
                                    <div class="flex items-center justify-between py-2 border-t border-white/5">
                                        <span class="text-xs text-white/60">Producto</span>
                                        <input type="checkbox" class="toggle" checked disabled>
                                    </div>
                                    <div class="flex items-center justify-between py-2 border-t border-white/5">
                                        <span class="text-xs text-white/60">Stock</span>
                                        <input type="checkbox" class="toggle" checked disabled>
                                    </div>
                                    <div class="flex items-center justify-between py-2 border-t border-white/5">
                                        <span class="text-xs text-white/60">Límites</span>
                                        <span class="text-xs text-white/40">Activos</span>
                                    </div>
                                </div>
                            </div>

                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <span class="text-sm font-medium text-purple-400">Subcart</span>
                                    <span class="text-xs text-white/40">Flexible</span>
                                </div>
                                <div class="space-y-2">
                                    <div class="flex items-center justify-between py-2 border-t border-white/5">
                                        <span class="text-xs text-white/60">Producto</span>
                                        <input type="checkbox" class="toggle" checked>
                                    </div>
                                    <div class="flex items-center justify-between py-2 border-t border-white/5">
                                        <span class="text-xs text-white/60">Stock</span>
                                        <input type="checkbox" class="toggle">
                                    </div>
                                    <div class="flex items-center justify-between py-2 border-t border-white/5">
                                        <span class="text-xs text-white/60">Límites</span>
                                        <span class="text-xs text-white/40">Configurables</span>
                                    </div>
                                </div>
                            </div>

                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <span class="text-sm font-medium text-pink-400">Wishlist</span>
                                    <span class="text-xs text-white/40">Permisivo</span>
                                </div>
                                <div class="space-y-2">
                                    <div class="flex items-center justify-between py-2 border-t border-white/5">
                                        <span class="text-xs text-white/60">Producto</span>
                                        <input type="checkbox" class="toggle">
                                    </div>
                                    <div class="flex items-center justify-between py-2 border-t border-white/5">
                                        <span class="text-xs text-white/60">Stock</span>
                                        <input type="checkbox" class="toggle">
                                    </div>
                                    <div class="flex items-center justify-between py-2 border-t border-white/5">
                                        <span class="text-xs text-white/60">Notificaciones</span>
                                        <input type="checkbox" class="toggle" checked>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section: Technical Decisions -->
    <section id="decisiones" class="section-spacing relative bg-white/[0.02]">
        <div class="content-spacing max-w-6xl mx-auto">
            <div class="reveal mb-16">
                <span class="label mb-4 block text-red-400">Arquitectura de Datos</span>
                <h2 class="section-title font-display mb-6">Decisiones Técnicas: Separación de Wishlist Core</h2>
                <p class="body-large max-w-3xl">
                    Análisis de la decisión arquitectónica para migrar Wishlist Core a un nuevo slot de base de datos independiente, separándolo de Carrito Core.
                </p>
            </div>

            <div class="bento-grid mb-16">
                <div class="bento-card card-full surface reveal">
                    <div class="gradient-mesh gradient-blue opacity-20"></div>
                    <div class="relative z-10">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-10 h-10 rounded-xl bg-red-500/10 flex items-center justify-center border border-red-500/20">
                                <i data-lucide="database" class="w-5 h-5 text-red-400"></i>
                            </div>
                            <h3 class="card-title">Contexto de la Decisión</h3>
                        </div>
                        <div class="grid md:grid-cols-3 gap-6">
                            <div class="p-5 rounded-2xl bg-white/[0.03] border border-white/5">
                                <div class="flex items-center gap-2 mb-3">
                                    <i data-lucide="server" class="w-4 h-4 text-blue-400"></i>
                                    <span class="text-sm font-medium text-white">Nuevo Slot de Carrito</span>
                                </div>
                                <p class="text-xs text-white/50">Creación de un slot de base de datos dedicado exclusivamente para Wishlist Core.</p>
                            </div>
                            <div class="p-5 rounded-2xl bg-white/[0.03] border border-white/5">
                                <div class="flex items-center gap-2 mb-3">
                                    <i data-lucide="hard-drive" class="w-4 h-4 text-purple-400"></i>
                                    <span class="text-sm font-medium text-white">Nueva Base de Datos</span>
                                </div>
                                <p class="text-xs text-white/50">Infraestructura de persistencia aislada para evitar interferencias.</p>
                            </div>
                            <div class="p-5 rounded-2xl bg-white/[0.03] border border-white/5">
                                <div class="flex items-center gap-2 mb-3">
                                    <i data-lucide="arrow-left-right" class="w-4 h-4 text-orange-400"></i>
                                    <span class="text-sm font-medium text-white">Data Migration</span>
                                </div>
                                <p class="text-xs text-white/50">Proceso de migración con transformaciones complejas de IDs.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="reveal mb-16">
                <h3 class="subsection-title font-display mb-8">Comparativa: Wishlist Core vs Carrito Core</h3>
                <div class="surface rounded-3xl overflow-hidden border border-white/10">
                    <table class="w-full">
                        <thead>
                            <tr class="border-b border-white/10 bg-white/[0.02]">
                                <th class="text-left p-6 text-sm font-medium text-white/60">Dimensión</th>
                                <th class="text-center p-6 text-sm font-medium text-blue-400">Carrito Core</th>
                                <th class="text-center p-6 text-sm font-medium text-pink-400">Wishlist Core</th>
                                <th class="text-center p-6 text-sm font-medium text-white/60">Impacto</th>
                            </tr>
                        </thead>
                        <tbody class="text-sm">
                            <tr class="border-b border-white/5">
                                <td class="p-6 text-white/80">Volumen de Datos (ZA)</td>
                                <td class="p-6 text-center text-white/60">Base</td>
                                <td class="p-6 text-center"><span class="text-pink-400 font-semibold">+375%</span></td>
                                <td class="p-6 text-center text-red-400">Alto</td>
                            </tr>
                            <tr class="border-b border-white/5">
                                <td class="p-6 text-white/80">Carga Black Friday 2025</td>
                                <td class="p-6 text-center text-white/60">+15%</td>
                                <td class="p-6 text-center"><span class="text-pink-400 font-semibold">+23%</span></td>
                                <td class="p-6 text-center text-orange-400">Medio-Alto</td>
                            </tr>
                            <tr class="border-b border-white/5">
                                <td class="p-6 text-white/80">Críticidad</td>
                                <td class="p-6 text-center"><span class="text-red-400 text-xs">Crítico (Ventas)</span></td>
                                <td class="p-6 text-center"><span class="text-yellow-400 text-xs">No Crítico</span></td>
                                <td class="p-6 text-center text-red-400">Alto</td>
                            </tr>
                            <tr>
                                <td class="p-6 text-white/80">Conversión Directa</td>
                                <td class="p-6 text-center text-white/40">No soportado</td>
                                <td class="p-6 text-center text-pink-400">Abandonado</td>
                                <td class="p-6 text-center text-yellow-400">Cambio scope</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="reveal mb-16">
                <h3 class="subsection-title font-display mb-8">Implicaciones Técnicas</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="surface rounded-2xl p-6 border border-white/5">
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 rounded-xl bg-orange-500/10 flex items-center justify-center">
                                <i data-lucide="shuffle" class="w-6 h-6 text-orange-400"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-2">Complejidad de Conversión</h4>
                                <p class="text-sm text-white/50">Mayor complejidad al realizar la conversión entre la cesta de Wishlist y la cesta de Carrito.</p>
                            </div>
                        </div>
                    </div>
                    <div class="surface rounded-2xl p-6 border border-white/5">
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 rounded-xl bg-cyan-500/10 flex items-center justify-center">
                                <i data-lucide="fingerprint" class="w-6 h-6 text-cyan-400"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-2">Generación de IDs</h4>
                                <p class="text-sm text-white/50">Generación de Ids de línea y Carrito durante la migración.</p>
                            </div>
                        </div>
                    </div>
                    <div class="surface rounded-2xl p-6 border border-white/5">
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 rounded-xl bg-purple-500/10 flex items-center justify-center">
                                <i data-lucide="radio" class="w-6 h-6 text-purple-400"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-2">API de Eventos</h4>
                                <p class="text-sm text-white/50">Posible necesidad de separar datos en diferentes topics o separar en mini vertical.</p>
                            </div>
                        </div>
                    </div>
                    <div class="surface rounded-2xl p-6 border border-white/5">
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 rounded-xl bg-pink-500/10 flex items-center justify-center">
                                <i data-lucide="target-off" class="w-6 h-6 text-pink-400"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-2">Cambio de Objetivo</h4>
                                <p class="text-sm text-white/50">Se renuncia a convertir de forma directa una wishlist en intención de compra.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="reveal">
                <div class="surface rounded-3xl p-8 border border-red-500/20">
                    <div class="flex items-center gap-3 mb-6">
                        <div class="w-12 h-12 rounded-xl bg-red-500/10 flex items-center justify-center">
                            <i data-lucide="gavel" class="w-6 h-6 text-red-400"></i>
                        </div>
                        <h3 class="text-xl font-display font-semibold text-white">Decisión Final</h3>
                    </div>
                    <div class="bg-white/[0.03] rounded-2xl p-6 mb-8">
                        <p class="text-lg text-white/90">Se opta por separar la migración de Wishlist a Carrito en un <span class="text-red-400">nuevo slot</span> y una <span class="text-red-400">nueva base de datos</span> por los siguientes motivos:</p>
                    </div>
                    <div class="grid md:grid-cols-3 gap-6">
                        <div>
                            <div class="flex items-center gap-2 text-red-400 mb-2">
                                <i data-lucide="alert-triangle" class="w-4 h-4"></i>
                                <span class="text-sm font-semibold">Impacto en Fallos</span>
                            </div>
                            <p class="text-xs text-white/50">Impacto en situaciones de fallo en Carrito siendo un servicio crítico para venta cuando Wishlist no lo es.</p>
                        </div>
                        <div>
                            <div class="flex items-center gap-2 text-orange-400 mb-2">
                                <i data-lucide="trending-up" class="w-4 h-4"></i>
                                <span class="text-sm font-semibold">Volumen de Carga</span>
                            </div>
                            <p class="text-xs text-white/50">Volumen de carga en aperturas especiales (BF25): +15% a +23%.</p>
                        </div>
                        <div>
                            <div class="flex items-center gap-2 text-pink-400 mb-2">
                                <i data-lucide="database" class="w-4 h-4"></i>
                                <span class="text-sm font-semibold">Volumen Documentos</span>
                            </div>
                            <p class="text-xs text-white/50">Cantidad de documentos en BD Wishlist vs Carrito: +375% en ZA.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 4: FAQ -->
    <section id="faq" class="section-spacing relative">
        <div class="content-spacing max-w-4xl mx-auto">
            <div class="reveal mb-16 text-center">
                <span class="label mb-4 block text-orange-400">Preguntas Frecuentes</span>
                <h2 class="section-title font-display mb-6">¿Tienes dudas sobre Cart Core?</h2>
                <p class="body-large max-w-2xl mx-auto">
                    Resolvemos las preguntas más comunes sobre arquitectura, implementación y uso del sistema.
                </p>
            </div>

            <div class="space-y-4 reveal">
                <!-- FAQ Item 1 -->
                <div class="faq-item surface rounded-2xl px-6 reveal" style="transition-delay: 0.1s;">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <div class="flex items-center gap-4">
                            <div class="w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center border border-blue-500/20 flex-shrink-0">
                                <i data-lucide="help-circle" class="w-5 h-5 text-blue-400"></i>
                            </div>
                            <div>
                                <h4 class="font-medium text-base">¿Qué diferencia hay entre Default, Subcart, Replacement y Wishlist?</h4>
                                <div class="flex flex-wrap gap-2 mt-2">
                                    <span class="faq-tag faq-tag-blue">Conceptos</span>
                                </div>
                            </div>
                        </div>
                        <div class="faq-icon">
                            <i data-lucide="plus" class="w-5 h-5"></i>
                        </div>
                    </div>
                    <div class="faq-answer">
                        <div class="pl-14">
                            <p class="body-small mb-4">
                                Cada tipo de carrito está diseñado para un propósito específico:
                            </p>
                            <ul class="space-y-3 mb-4">
                                <li class="flex items-start gap-3">
                                    <div class="w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"></div>
                                    <div>
                                        <span class="text-white font-medium">Default:</span>
                                        <span class="text-white/60"> Carrito estándar de compra con validaciones estrictas de producto y stock. Es el funnel clásico de e-commerce.</span>
                                    </div>
                                </li>
                                <li class="flex items-start gap-3">
                                    <div class="w-2 h-2 rounded-full bg-purple-400 mt-2 flex-shrink-0"></div>
                                    <div>
                                        <span class="text-white font-medium">Subcart:</span>
                                        <span class="text-white/60"> Carritos flexibles para experiencias específicas (streaming, eventos, etc.) con validaciones configurables.</span>
                                    </div>
                                </li>
                                <li class="flex items-start gap-3">
                                    <div class="w-2 h-2 rounded-full bg-purple-400 mt-2 flex-shrink-0"></div>
                                    <div>
                                        <span class="text-white font-medium">Replacement:</span>
                                        <span class="text-white/60"> Carritos explotables fuera del funnel tradicional, con conexiones de stock personalizada</span>
                                    </div>
                                </li>
                                <li class="flex items-start gap-3">
                                    <div class="w-2 h-2 rounded-full bg-pink-400 mt-2 flex-shrink-0"></div>
                                    <div>
                                        <span class="text-white font-medium">Wishlist:</span>
                                        <span class="text-white/60"> Listas de deseos sin intención inmediata de compra. Permiten compartir y notificar disponibilidad.</span>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- FAQ Item 2 -->
                <div class="faq-item surface rounded-2xl px-6 reveal" style="transition-delay: 0.15s;">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <div class="flex items-center gap-4">
                            <div class="w-10 h-10 rounded-xl bg-purple-500/10 flex items-center justify-center border border-purple-500/20 flex-shrink-0">
                                <i data-lucide="git-branch" class="w-5 h-5 text-purple-400"></i>
                            </div>
                            <div>
                                <h4 class="font-medium text-base">¿Cómo se gestionan múltiples carritos por usuario?</h4>
                                <div class="flex flex-wrap gap-2 mt-2">
                                    <span class="faq-tag faq-tag-purple">Arquitectura</span>
                                    <span class="faq-tag faq-tag-green">Multi-tenant</span>
                                </div>
                            </div>
                        </div>
                        <div class="faq-icon">
                            <i data-lucide="plus" class="w-5 h-5"></i>
                        </div>
                    </div>
                    <div class="faq-answer">
                        <div class="pl-14">
                            <p class="body-small mb-4">
                                Cart Core utiliza un modelo de "contenedores lógicos" donde cada usuario puede tener N carritos de diferentes tipos simultáneamente:
                            </p>
                            <div class="grid md:grid-cols-2 gap-4 mb-4">
                                <div class="p-4 rounded-xl bg-white/[0.02] border border-white/5">
                                    <div class="flex items-center gap-2 mb-2">
                                        <i data-lucide="fingerprint" class="w-4 h-4 text-cyan-400"></i>
                                        <span class="text-sm font-medium text-white">Identificación</span>
                                    </div>
                                    <p class="text-xs text-white/50">Cada carrito tiene un UUID único vinculado al user ID</p>
                                </div>
                                <div class="p-4 rounded-xl bg-white/[0.02] border border-white/5">
                                    <div class="flex items-center gap-2 mb-2">
                                        <i data-lucide="filter" class="w-4 h-4 text-cyan-400"></i>
                                        <span class="text-sm font-medium text-white">Filtrado</span>
                                    </div>
                                    <p class="text-xs text-white/50">Query params permiten filtrar por tipo, canal y estado</p>
                                </div>
                            </div>
                            <p class="body-small">
                                El sistema mantiene coherencia mediante eventos de dominio que sincronizan el estado entre todos los carritos activos de un usuario.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- FAQ Item 3 -->
                <div class="faq-item surface rounded-2xl px-6 reveal" style="transition-delay: 0.2s;">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <div class="flex items-center gap-4">
                            <div class="w-10 h-10 rounded-xl bg-green-500/10 flex items-center justify-center border border-green-500/20 flex-shrink-0">
                                <i data-lucide="shield-check" class="w-5 h-5 text-green-400"></i>
                            </div>
                            <div>
                                <h4 class="font-medium text-base">¿Qué validaciones se aplican por defecto?</h4>
                                <div class="flex flex-wrap gap-2 mt-2">
                                    <span class="faq-tag faq-tag-green">Validación</span>
                                    <span class="faq-tag faq-tag-blue">Stock</span>
                                </div>
                            </div>
                        </div>
                        <div class="faq-icon">
                            <i data-lucide="plus" class="w-5 h-5"></i>
                        </div>
                    </div>
                    <div class="faq-answer">
                        <div class="pl-14">
                            <p class="body-small mb-4">
                                Las validaciones varían según el tipo de carrito y el contexto de la operación:
                            </p>
                            <div class="space-y-3 mb-4">
                                <div class="flex items-center justify-between p-3 rounded-lg bg-white/[0.02] border border-white/5">
                                    <div class="flex items-center gap-3">
                                        <div class="w-2 h-2 rounded-full bg-blue-400"></div>
                                        <span class="text-sm text-white">Validación de Producto</span>
                                    </div>
                                    <span class="text-xs text-white/40">Via Product Reader</span>
                                </div>
                                <div class="flex items-center justify-between p-3 rounded-lg bg-white/[0.02] border border-white/5">
                                    <div class="flex items-center gap-3">
                                        <div class="w-2 h-2 rounded-full bg-blue-400"></div>
                                        <span class="text-sm text-white">Validación de Stock</span>
                                    </div>
                                    <span class="text-xs text-white/40">Síncrona/Asíncrona</span>
                                </div>
                                <div class="flex items-center justify-between p-3 rounded-lg bg-white/[0.02] border border-white/5">
                                    <div class="flex items-center gap-3">
                                        <div class="w-2 h-2 rounded-full bg-blue-400"></div>
                                        <span class="text-sm text-white">Límites de Items</span>
                                    </div>
                                    <span class="text-xs text-white/40">Configurables por tipo</span>
                                </div>
                                <div class="flex items-center justify-between p-3 rounded-lg bg-white/[0.02] border border-white/5">
                                    <div class="flex items-center gap-3">
                                        <div class="w-2 h-2 rounded-full bg-purple-400"></div>
                                        <span class="text-sm text-white">Reglas de Negocio</span>
                                    </div>
                                    <span class="text-xs text-white/40">Contextuales</span>
                                </div>
                            </div>
                            <p class="body-small text-white/60">
                                <i data-lucide="info" class="w-4 h-4 inline mr-1"></i>
                                En modo streaming, por ejemplo, el stock se valida de forma diferida para optimizar la velocidad.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- FAQ Item 4 -->
                <div class="faq-item surface rounded-2xl px-6 reveal" style="transition-delay: 0.25s;">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <div class="flex items-center gap-4">
                            <div class="w-10 h-10 rounded-xl bg-pink-500/10 flex items-center justify-center border border-pink-500/20 flex-shrink-0">
                                <i data-lucide="share-2" class="w-5 h-5 text-pink-400"></i>
                            </div>
                            <div>
                                <h4 class="font-medium text-base">¿Cómo funciona el compartir listas?</h4>
                                <div class="flex flex-wrap gap-2 mt-2">
                                    <span class="faq-tag faq-tag-pink">Wishlist</span>
                                    <span class="faq-tag faq-tag-purple">Social</span>
                                </div>
                            </div>
                        </div>
                        <div class="faq-icon">
                            <i data-lucide="plus" class="w-5 h-5"></i>
                        </div>
                    </div>
                    <div class="faq-answer">
                        <div class="pl-14">
                            <p class="body-small mb-4">
                                El sistema de compartir permite colaboración en tiempo real con diferentes niveles de permisos:
                            </p>
                            <div class="faq-grid mb-4">
                                <div class="p-4 rounded-xl bg-white/[0.02] border border-white/5">
                                    <div class="flex items-center gap-2 mb-2">
                                        <i data-lucide="eye" class="w-4 h-4 text-pink-400"></i>
                                        <span class="text-sm font-medium text-white">Visor</span>
                                    </div>
                                    <p class="text-xs text-white/50">Solo puede ver items y seguir cambios</p>
                                </div>
                                <div class="p-4 rounded-xl bg-white/[0.02] border border-white/5">
                                    <div class="flex items-center gap-2 mb-2">
                                        <i data-lucide="edit-3" class="w-4 h-4 text-pink-400"></i>
                                        <span class="text-sm font-medium text-white">Editor</span>
                                    </div>
                                    <p class="text-xs text-white/50">Puede añadir, eliminar y modificar items</p>
                                </div>
                                <div class="p-4 rounded-xl bg-white/[0.02] border border-white/5">
                                    <div class="flex items-center gap-2 mb-2">
                                        <i data-lucide="users" class="w-4 h-4 text-pink-400"></i>
                                        <span class="text-sm font-medium text-white">Colaborador</span>
                                    </div>
                                    <p class="text-xs text-white/50">Editor + invitar a otros usuarios</p>
                                </div>
                                <div class="p-4 rounded-xl bg-white/[0.02] border border-white/5">
                                    <div class="flex items-center gap-2 mb-2">
                                        <i data-lucide="crown" class="w-4 h-4 text-pink-400"></i>
                                        <span class="text-sm font-medium text-white">Propietario</span>
                                    </div>
                                    <p class="text-xs text-white/50">Control total incluyendo eliminación</p>
                                </div>
                            </div>
                            <p class="body-small">
                                Las listas pueden ser <span class="text-white">públicas</span> (accesibles por URL) o <span class="text-white">privadas</span> (solo por invitación directa).
                            </p>
                        </div>
                    </div>
                </div>

                <!-- FAQ Item 5 -->
                <div class="faq-item surface rounded-2xl px-6 reveal" style="transition-delay: 0.3s;">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <div class="flex items-center gap-4">
                            <div class="w-10 h-10 rounded-xl bg-cyan-500/10 flex items-center justify-center border border-cyan-500/20 flex-shrink-0">
                                <i data-lucide="zap" class="w-5 h-5 text-cyan-400"></i>
                            </div>
                            <div>
                                <h4 class="font-medium text-base">¿Qué es REX y cómo se integra?</h4>
                                <div class="flex flex-wrap gap-2 mt-2">
                                    <span class="faq-tag faq-tag-blue">REX</span>
                                    <span class="faq-tag faq-tag-purple">2026</span>
                                </div>
                            </div>
                        </div>
                        <div class="faq-icon">
                            <i data-lucide="plus" class="w-5 h-5"></i>
                        </div>
                    </div>
                    <div class="faq-answer">
                        <div class="pl-14">
                            <p class="body-small mb-4">
                                <span class="text-cyan-400 font-medium">REX (Retail Experience)</span> representa la evolución de Cart Core hacia experiencias sin intención de compra tradicional:
                            </p>
                            <ul class="space-y-3 mb-4">
                                <li class="flex items-start gap-3">
                                    <div class="w-2 h-2 rounded-full bg-cyan-400 mt-2 flex-shrink-0"></div>
                                    <div>
                                        <span class="text-white font-medium">Inspiración:</span>
                                        <span class="text-white/60"> Colecciones de items para proyectos futuros sin checkout inmediato</span>
                                    </div>
                                </li>
                                <li class="flex items-start gap-3">
                                    <div class="w-2 h-2 rounded-full bg-cyan-400 mt-2 flex-shrink-0"></div>
                                    <div>
                                        <span class="text-white font-medium">Planificación:</span>
                                        <span class="text-white/60"> Carritos para eventos (bodas, reformas) con timeline y presupuesto</span>
                                    </div>
                                </li>
                                <li class="flex items-start gap-3">
                                    <div class="w-2 h-2 rounded-full bg-cyan-400 mt-2 flex-shrink-0"></div>
                                    <div>
                                        <span class="text-white font-medium">Comparación:</span>
                                        <span class="text-white/60"> Listas paralelas para evaluar alternativas antes de decidir</span>
                                    </div>
                                </li>
                            </ul>
                            <div class="p-4 rounded-xl bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/20">
                                <p class="text-sm text-white/80">
                                    <i data-lucide="lightbulb" class="w-4 h-4 inline mr-2 text-cyan-400"></i>
                                    REX utiliza la misma infraestructura de Cart Core pero con reglas de validación relajadas y persistencia extendida.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- FAQ Item 6 -->
                <div class="faq-item surface rounded-2xl px-6 reveal" style="transition-delay: 0.35s;">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <div class="flex items-center gap-4">
                            <div class="w-10 h-10 rounded-xl bg-orange-500/10 flex items-center justify-center border border-orange-500/20 flex-shrink-0">
                                <i data-lucide="activity" class="w-5 h-5 text-orange-400"></i>
                            </div>
                            <div>
                                <h4 class="font-medium text-base">¿Cómo se garantiza la observabilidad?</h4>
                                <div class="flex flex-wrap gap-2 mt-2">
                                    <span class="faq-tag faq-tag-orange">Observabilidad</span>
                                    <span class="faq-tag faq-tag-green">SLA</span>
                                </div>
                            </div>
                        </div>
                        <div class="faq-icon">
                            <i data-lucide="plus" class="w-5 h-5"></i>
                        </div>
                    </div>
                    <div class="faq-answer">
                        <div class="pl-14">
                            <p class="body-small mb-4">
                                Cart Core implementa tres pilares de observabilidad distribuida:
                            </p>
                            <div class="grid md:grid-cols-3 gap-4 mb-4">
                                <div class="text-center p-4 rounded-xl bg-white/[0.02] border border-white/5">
                                    <div class="w-10 h-10 rounded-full bg-orange-500/10 flex items-center justify-center mx-auto mb-3 border border-orange-500/20">
                                        <i data-lucide="bar-chart-2" class="w-5 h-5 text-orange-400"></i>
                                    </div>
                                    <h5 class="text-sm font-medium text-white mb-1">Métricas</h5>
                                    <p class="text-xs text-white/50">Latencia, throughput, errores por endpoint</p>
                                </div>
                                <div class="text-center p-4 rounded-xl bg-white/[0.02] border border-white/5">
                                    <div class="w-10 h-10 rounded-full bg-orange-500/10 flex items-center justify-center mx-auto mb-3 border border-orange-500/20">
                                        <i data-lucide="file-text" class="w-5 h-5 text-orange-400"></i>
                                    </div>
                                    <h5 class="text-sm font-medium text-white mb-1">Logs</h5>
                                    <p class="text-xs text-white/50">Structured logging con correlación de trazas</p>
                                </div>
                                <div class="text-center p-4 rounded-xl bg-white/[0.02] border border-white/5">
                                    <div class="w-10 h-10 rounded-full bg-orange-500/10 flex items-center justify-center mx-auto mb-3 border border-orange-500/20">
                                        <i data-lucide="git-commit" class="w-5 h-5 text-orange-400"></i>
                                    </div>
                                    <h5 class="text-sm font-medium text-white mb-1">Trazas</h5>
                                    <p class="text-xs text-white/50">Distributed tracing entre servicios</p>
                                </div>
                            </div>
                            <p class="body-small">
                                Dashboards en tiempo real permiten detectar anomalías en la creación de carritos, tiempos de validación y tasas de conversión por tipo.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contact CTA -->
            <div class="mt-16 text-center reveal" style="transition-delay: 0.4s;">
                <div class="surface rounded-3xl p-8 md:p-12 border border-white/10 relative overflow-hidden">
                    <div class="gradient-mesh gradient-blue opacity-20"></div>
                    <div class="relative z-10">
                        <div class="w-16 h-16 rounded-2xl bg-white/5 flex items-center justify-center mx-auto mb-6 border border-white/10">
                            <i data-lucide="message-circle" class="w-8 h-8 text-white/60"></i>
                        </div>
                        <h3 class="text-2xl font-display font-semibold mb-3">¿No encuentras tu respuesta?</h3>
                        <p class="body-small mb-6 max-w-md mx-auto">
                            El equipo de arquitectura está disponible para resolver dudas técnicas específicas sobre implementación.
                        </p>
                        <button class="px-8 py-3 bg-white/10 hover:bg-white/20 border border-white/10 rounded-full text-sm font-medium transition-all">
                            Contactar al equipo
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-24 border-t border-white/5">
        <div class="content-spacing max-w-6xl mx-auto text-center">
            <div class="w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center mx-auto mb-6">
                <i data-lucide="shopping-cart" class="w-6 h-6 text-white/40"></i>
            </div>
            <p class="text-sm text-white/40">Cart Core Architecture</p>
            <p class="text-xs text-white/20 mt-2">Evolución continua</p>
        </div>
    </footer>

    <script>
        lucide.createIcons();

        gsap.registerPlugin(ScrollTrigger);

        const revealElements = document.querySelectorAll('.reveal');
        revealElements.forEach((element, index) => {
            gsap.fromTo(element, 
                { 
                    opacity: 0, 
                    y: 40 
                },
                {
                    opacity: 1,
                    y: 0,
                    duration: 1,
                    ease: "power3.out",
                    scrollTrigger: {
                        trigger: element,
                        start: "top 85%",
                        toggleActions: "play none none reverse"
                    },
                    delay: element.style.transitionDelay ? parseFloat(element.style.transitionDelay) : 0
                }
            );
        });

        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        document.querySelectorAll('.toggle').forEach(toggle => {
            toggle.addEventListener('change', function() {
                gsap.fromTo(this, 
                    { scale: 0.9 }, 
                    { scale: 1, duration: 0.3, ease: "back.out(1.7)" }
                );
            });
        });

        // FAQ Toggle Function
        function toggleFaq(element) {
            const answer = element.nextElementSibling;
            const icon = element.querySelector('.faq-icon');
            const isActive = element.classList.contains('active');
            
            // Close all others
            document.querySelectorAll('.faq-question').forEach(q => {
                if (q !== element) {
                    q.classList.remove('active');
                    q.nextElementSibling.classList.remove('active');
                    q.querySelector('.faq-icon').classList.remove('active');
                }
            });
            
            // Toggle current
            element.classList.toggle('active');
            answer.classList.toggle('active');
            icon.classList.toggle('active');
            
            // Animate icon
            gsap.fromTo(icon, 
                { rotation: isActive ? 45 : 0 }, 
                { rotation: isActive ? 0 : 45, duration: 0.3, ease: "power2.out" }
            );
        }

        // Architecture Diagram Functions
        function drawArchitectureLines() {
            const svg = document.getElementById('architecture-svg');
            const container = document.getElementById('architecture-container');
            if (!svg || !container) return;
            
            const rect = container.getBoundingClientRect();
            svg.setAttribute('viewBox', `0 0 ${rect.width} ${rect.height}`);
            
            const group = document.getElementById('connections-group');
            group.innerHTML = '';

            const user = document.getElementById('node-user').getBoundingClientRect();
            const core = document.getElementById('node-core').getBoundingClientRect();
            const defaultCart = document.getElementById('node-default').getBoundingClientRect();
            const subcart = document.getElementById('node-subcart').getBoundingClientRect();
            const wishlist = document.getElementById('node-wishlist').getBoundingClientRect();

            const getCenter = (el) => ({
                x: el.left + el.width/2 - rect.left,
                y: el.top + el.height/2 - rect.top
            });

            const userCenter = getCenter(user);
            const coreCenter = getCenter(core);
            const defaultCenter = getCenter(defaultCart);
            const subcartCenter = getCenter(subcart);
            const wishlistCenter = getCenter(wishlist);

            // User to Core
            const line1 = createPath(userCenter.x, userCenter.y, coreCenter.x, coreCenter.y, 'user-core');
            group.appendChild(line1);

            // Core to Carts (curved)
            const line2 = createCurvedPath(coreCenter.x, coreCenter.y, defaultCenter.x, defaultCenter.y, 'core-default');
            const line3 = createCurvedPath(coreCenter.x, coreCenter.y, subcartCenter.x, subcartCenter.y, 'core-subcart');
            const line4 = createCurvedPath(coreCenter.x, coreCenter.y, wishlistCenter.x, wishlistCenter.y, 'core-wishlist');
            
            group.appendChild(line2);
            group.appendChild(line3);
            group.appendChild(line4);
        }

        function createPath(x1, y1, x2, y2, id) {
            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            path.setAttribute('d', `M ${x1} ${y1} L ${x2} ${y2}`);
            path.setAttribute('class', 'connection-path');
            path.setAttribute('id', `line-${id}`);
            path.setAttribute('marker-end', 'url(#arrowhead)');
            return path;
        }

        function createCurvedPath(x1, y1, x2, y2, id) {
            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            const midY = (y1 + y2) / 2;
            path.setAttribute('d', `M ${x1} ${y1} Q ${x1} ${midY} ${x2} ${y2}`);
            path.setAttribute('class', 'connection-path');
            path.setAttribute('id', `line-${id}`);
            return path;
        }

        function highlightCart(type) {
            // Reset all
            document.querySelectorAll('.cart-type-card').forEach(card => {
                card.classList.remove('active');
                card.style.borderColor = '';
                card.style.boxShadow = '';
            });
            
            document.querySelectorAll('.connection-path').forEach(line => {
                line.classList.remove('active');
                line.style.stroke = 'rgba(255, 255, 255, 0.1)';
            });

            // Highlight selected
            const selectedNode = document.getElementById(`node-${type}`);
            const selectedCard = selectedNode.querySelector('.cart-type-card');
            const colors = {
                'default': '#3b82f6',
                'subcart': '#a855f7',
                'wishlist': '#ec4899'
            };
            
            selectedCard.classList.add('active');
            selectedCard.style.borderColor = colors[type];
            selectedCard.style.boxShadow = `0 0 30px ${colors[type]}40`;
            
            // Highlight lines
            const userLine = document.getElementById('line-user-core');
            const cartLine = document.getElementById(`line-core-${type}`);
            
            if (userLine) {
                userLine.classList.add('active');
                userLine.style.stroke = colors[type];
            }
            if (cartLine) {
                cartLine.classList.add('active');
                cartLine.style.stroke = colors[type];
            }

            // Animate node
            gsap.fromTo(selectedNode, 
                { scale: 0.95 }, 
                { scale: 1, duration: 0.4, ease: "back.out(1.7)" }
            );
        }

        // Draw lines on load and resize
        window.addEventListener('load', () => {
            setTimeout(drawArchitectureLines, 100);
        });
        
        window.addEventListener('resize', drawArchitectureLines);

        // Redraw on scroll (parallax effect)
        ScrollTrigger.addEventListener("scroll", () => {
            requestAnimationFrame(drawArchitectureLines);
        });

        // Animate diagram on scroll into view
        ScrollTrigger.create({
            trigger: "#architecture-container",
            start: "top 80%",
            onEnter: () => {
                gsap.fromTo("#node-user", { opacity: 0, y: -30 }, { opacity: 1, y: 0, duration: 0.8, delay: 0 });
                gsap.fromTo("#node-core", { opacity: 0, scale: 0.8 }, { opacity: 1, scale: 1, duration: 0.8, delay: 0.2 });
                gsap.fromTo("#node-default", { opacity: 0, x: -30 }, { opacity: 1, x: 0, duration: 0.6, delay: 0.4 });
                gsap.fromTo("#node-subcart", { opacity: 0, y: 30 }, { opacity: 1, y: 0, duration: 0.6, delay: 0.5 });
                gsap.fromTo("#node-wishlist", { opacity: 0, x: 30 }, { opacity: 1, x: 0, duration: 0.6, delay: 0.6 });
                
                setTimeout(drawArchitectureLines, 800);
            }
        });
    </script>
</body>
</html>
